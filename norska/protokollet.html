
<!doctype html>
<html lang="sv" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="En informationssida om det lokala kundgränssnitt som ska finnas på nya svenska elmätare. Kallas också HAN-porten, P1-porten eller H1-porten">
      
      
      
        <meta name="author" content="Henrik Palmlund Wahlgren @ Utilitarian">
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.9">
    
    
      
        <title>Protokollet - HANporten.se</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#protokollet" class="md-skip">
          Gå till innehållet
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Sidhuvud">
    <a href="../index.html" title="HANporten.se" class="md-header__button md-logo" aria-label="HANporten.se" data-md-component="logo">
      
  <img src="../images/han-port-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HANporten.se
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Protokollet
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Sök" placeholder="Sök" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Rensa" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialiserar sök
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/u9n/hanporten/" title="Gå till datakatalog" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    u9n/hanporten
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Flikar" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../index.html" class="md-tabs__link">
      Hem
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../svenska/porten.html" class="md-tabs__link">
        Svenska porten (RJ12)
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="porten.html" class="md-tabs__link md-tabs__link--active">
        Norska porten (RJ45)
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../natbolag.html" class="md-tabs__link">
      Elnätsbolag
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../matare.html" class="md-tabs__link">
      Mätare
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="HANporten.se" class="md-nav__button md-logo" aria-label="HANporten.se" data-md-component="logo">
      
  <img src="../images/han-port-white.svg" alt="logo">

    </a>
    HANporten.se
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/u9n/hanporten/" title="Gå till datakatalog" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    u9n/hanporten
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Hem
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Svenska porten (RJ12)
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Svenska porten (RJ12)" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Svenska porten (RJ12)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../svenska/porten.html" class="md-nav__link">
        Porten
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../svenska/protokollet.html" class="md-nav__link">
        Protokollet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../svenska/kretsschema.html" class="md-nav__link">
        Kretsscheman
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../svenska/avvikelser.html" class="md-nav__link">
        Avvikande implementationer
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Norska porten (RJ45)
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Norska porten (RJ45)" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Norska porten (RJ45)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="porten.html" class="md-nav__link">
        Porten
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Protokollet
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="protokollet.html" class="md-nav__link md-nav__link--active">
        Protokollet
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Innehållsförteckning">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Innehållsförteckning
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datainnehall" class="md-nav__link">
    Datainnehåll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seriellt-granssnitt" class="md-nav__link">
    Seriellt gränssnitt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exempeldata" class="md-nav__link">
    Exempeldata
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#las-ut-datan" class="md-nav__link">
    Läs ut datan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsa-data" class="md-nav__link">
    Parsa data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timing" class="md-nav__link">
    Timing
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="kretsschema.html" class="md-nav__link">
        Kretsscheman
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../natbolag.html" class="md-nav__link">
        Elnätsbolag
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../matare.html" class="md-nav__link">
        Mätare
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Innehållsförteckning">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Innehållsförteckning
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datainnehall" class="md-nav__link">
    Datainnehåll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seriellt-granssnitt" class="md-nav__link">
    Seriellt gränssnitt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exempeldata" class="md-nav__link">
    Exempeldata
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#las-ut-datan" class="md-nav__link">
    Läs ut datan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsa-data" class="md-nav__link">
    Parsa data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timing" class="md-nav__link">
    Timing
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/u9n/hanporten/edit/main/docs/norska/protokollet.md" title="Redigera sidan" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="protokollet">Protokollet<a class="headerlink" href="#protokollet" title="Permanent link">#</a></h1>
<p>Protokollet som skickas på den norska HAN-porten är en DLMS/COSEM DataNotification APDU i en 
HDLC unnumbered information frame</p>
<div class="admonition note">
<p class="admonition-title">Ej verifierat</p>
<p>Vi har ingen mätare med denna typ av port och har inte verifierat om allt är helt korrekt.
Men om någon har en mätare med denna port får de gärna verifiera och meddela oss.</p>
</div>
<h2 id="datainnehall">Datainnehåll<a class="headerlink" href="#datainnehall" title="Permanent link">#</a></h2>
<p>Datan är ett antal rader som liknar datan i den svenska standarden, men formaterad 
mer enligt DLMS. Den innehåller en rad för tid och datum, en rad för identifiering av mätaren
och flera rader som innehåller OBIS, värde, skalär och enhet.</p>
<h2 id="seriellt-granssnitt">Seriellt gränssnitt<a class="headerlink" href="#seriellt-granssnitt" title="Permanent link">#</a></h2>
<p>Data skickas med 2400 baud och i byteformat <code>8E1</code></p>
<h2 id="exempeldata">Exempeldata<a class="headerlink" href="#exempeldata" title="Permanent link">#</a></h2>
<div class="highlight"><pre><span></span><code>7e a10b 41 0883 13 fa7c e6e700
     0f 40000000 00
     010c
         0202 0906 0101000281ff 0a0b 4149444f4e5f5630303031
         0202 0906 0000600100ff 0a10 3733XXXXXXXXXXXXXXXXXXXXXXX13130
         0202 0906 0000600107ff 0a04 36353235
         0203 0906 0100010700ff 06 00000e90 0202 0f00 161b
         0203 0906 0100020700ff 06 00000000 0202 0f00 161b
         0203 0906 0100030700ff 06 0000001c 0202 0f00 161d
         0203 0906 0100040700ff 06 00000000 0202 0f00 161d
         0203 0906 01001f0700ff 10 0091     0202 0fff 1621
         0203 0906 0100470700ff 10 0090     0202 0fff 1621
         0203 0906 0100200700ff 12 0932     0202 0fff 1623
         0203 0906 0100340700ff 12 091e     0202 0fff 1623
         0203 0906 0100480700ff 12 0933     0202 0fff 1623
 95d4 7e
</code></pre></div>
<h2 id="las-ut-datan">Läs ut datan<a class="headerlink" href="#las-ut-datan" title="Permanent link">#</a></h2>
<p>HDLC frames är inramade av ascii tilde <code>~</code>/<code>0x7e</code>. </p>
<p>Ett enkelt program som läser av ett seriellt gränssnitt kan läsa tills det hittar en 
frame-end och testa att parsa inläst data som en hdlc-frame. Om det inte går att parsa 
fortsätter man läsa tills nästa frame-end.</p>
<h2 id="parsa-data">Parsa data<a class="headerlink" href="#parsa-data" title="Permanent link">#</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dlms_cosem.prtocol</span> <span class="kn">import</span> <span class="n">xdlms</span>
<span class="kn">from</span> <span class="nn">dlms_cosem.hdlc</span> <span class="kn">import</span> <span class="n">frames</span>
<span class="kn">from</span> <span class="nn">dlms_cosem.utils</span> <span class="kn">import</span> <span class="n">parse_as_dlms_data</span>

<span class="n">hdlc_data</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x7e</span><span class="s2">.....</span><span class="se">\x7e</span><span class="s2">&quot;</span>
<span class="n">ui</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">UnnumberdInformationFrame</span><span class="p">(</span><span class="n">hdlc_data</span><span class="p">)</span>
<span class="n">dn</span> <span class="o">=</span> <span class="n">xdlms</span><span class="o">.</span><span class="n">DataNotification</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">ui</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>  <span class="c1"># The first 3 bytes should be ignored.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">parse_as_dlms_data</span><span class="p">(</span><span class="n">dn</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>


<span class="o">&gt;&gt;&gt;</span><span class="p">[</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00\x00\x01\x00\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x07\xe3\x0c\x10\x01\x07</span><span class="s1">;(</span><span class="se">\xff\x80\x00\xff</span><span class="s1">&#39;</span><span class="p">)],</span>  <span class="c1"># Datum</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x01\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">1122</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>  <span class="c1"># OBIS, value, [skalär, enhet]</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x02\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x03\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">1507</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x04\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x1f\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">3</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">75</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">G</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1"> </span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">2307</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">4</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">2499</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">H</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">2308</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x15\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x16\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x17\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x18\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">)</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">1122</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">*</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">+</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">1506</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">,</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">=</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">&gt;</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">27</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">?</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00</span><span class="s1">@</span><span class="se">\x07\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">29</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x01\x08\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">10049926</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x02\x08\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x03\x08\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">6614347</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">]],</span>
     <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x04\x08\x00\xff</span><span class="s1">&#39;</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">]]]</span>

<span class="c1"># Obis could be parsed like:</span>
<span class="kn">from</span> <span class="nn">dlms_cosem.cosem</span> <span class="kn">import</span> <span class="n">Obis</span>

<span class="n">obis</span> <span class="o">=</span> <span class="n">Obis</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">obis_bytes</span><span class="p">)</span>

<span class="c1"># The datetime can be parsed like:</span>
<span class="kn">from</span> <span class="nn">dlms_cosem.time</span> <span class="kn">import</span> <span class="n">datetime_from_bytes</span>

<span class="n">datetime</span><span class="p">,</span> <span class="n">clock_status</span> <span class="o">=</span> <span class="n">datetime_from_bytes</span><span class="p">(</span><span class="n">time_bytes</span><span class="p">)</span>

<span class="c1"># Ex:</span>
<span class="n">datetime_from_bytes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x07\xe3\x0c\x10\x01\x07</span><span class="s1">;(</span><span class="se">\xff\x80\x00\xff</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="n">ClockStatus</span><span class="p">(</span><span class="n">invalid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doubtful</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">different_base</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">invalid_status</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">daylight_saving_active</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="c1"># The unit enums are not added in the DLMS library yet. (on roadmap)</span>
</code></pre></div>
<h2 id="timing">Timing<a class="headerlink" href="#timing" title="Permanent link">#</a></h2>
<p>Det verkar vara lite olika med vilken data som skickas och hur ofta.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Sidfot">
      
        
        <a href="porten.html" class="md-footer__link md-footer__link--prev" aria-label="Föregående: Porten" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Föregående
              </span>
              Porten
            </div>
          </div>
        </a>
      
      
        
        <a href="kretsschema.html" class="md-footer__link md-footer__link--next" aria-label="Nästa: Kretsscheman" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Nästa
              </span>
              Kretsscheman
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="http://www.hanporten.se">hanporten.se</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="http://www.utilitarian.io">Utilitarian</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections"], "translations": {"clipboard.copy": "Kopiera till urklipp", "clipboard.copied": "Kopierat till urklipp", "search.config.lang": "sv", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "S\u00f6k", "search.result.placeholder": "Skriv s\u00f6kord", "search.result.none": "Inga s\u00f6kresultat", "search.result.one": "1 s\u00f6kresultat", "search.result.other": "# s\u00f6kresultat", "search.result.more.one": "1 till p\u00e5 denna sidan", "search.result.more.other": "# till p\u00e5 denna sidan", "search.result.term.missing": "Saknas", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.82b56eb2.min.js"></script>
      
    
  </body>
</html>